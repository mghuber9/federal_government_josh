<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Unit 4 â€” Lightning Round (Civil Liberties, Civil Rights, Judiciary)</title>

<style>
  :root{
    --bg:#e5e7eb;           /* page background */
    --panel:#f9fafb;        /* card background */
    --ink:#111827;          /* main text */
    --muted:#6b7280;        /* muted text */
    --accent:#2563eb;       /* primary accent (blue) */
    --ok:#16a34a;           /* correct */
    --bad:#dc2626;          /* wrong */
    --tile:#ffffff;         /* answer tile */
    --tile-border:rgba(15,23,42,0.12);
  }

  *{box-sizing:border-box}

  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
    color:var(--ink);
    -webkit-text-fill-color:var(--ink);
    background:radial-gradient(900px 600px at 15% -10%, #dbeafe 0%, var(--bg) 55%);
    background-color:var(--bg);
  }

  .wrap{max-width:980px; margin:0 auto; padding:24px}
  h1{margin:0 0 6px; font-size:clamp(22px,3vw,32px)}
  p,label{color:var(--muted)}
  a{color:var(--accent); text-decoration:none}
  a:hover{text-decoration:underline}

  .card{
    background:var(--panel);
    color:var(--ink);
    -webkit-text-fill-color:var(--ink);
    border:1px solid rgba(15,23,42,0.08);
    border-radius:16px;
    padding:18px;
    box-shadow:0 6px 18px rgba(15,23,42,0.08);
  }

  .grid{display:grid; gap:12px}
  .grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
  @media (max-width:720px){
    .grid-2{grid-template-columns:1fr}
  }

  select,button{
    appearance:none;
    border:1px solid rgba(15,23,42,0.14);
    background:#eff6ff;
    color:var(--ink);
    -webkit-text-fill-color:var(--ink);
    padding:10px 12px;
    border-radius:10px;
    font-size:15px;
  }

  button{
    cursor:pointer;
    background:linear-gradient(135deg,#2563eb,#1d4ed8);
    border:1px solid rgba(37,99,235,0.7);
    color:#f9fafb;
    -webkit-text-fill-color:#f9fafb;
    font-weight:500;
  }
  button:hover{filter:brightness(1.05)}

  .hidden{display:none}

  .pill{
    display:inline-block;
    padding:6px 10px;
    border-radius:999px;
    border:1px solid rgba(15,23,42,0.12);
    background:#e5e7eb;
    color:#1f2937;
    -webkit-text-fill-color:#1f2937;
    font-size:12px;
  }

  .hud{display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap}

  .qtext{
    font-size:clamp(18px,2.2vw,22px);
    font-weight:600;
    line-height:1.35;
  }

  .choices{
    display:grid;
    gap:12px;
    grid-template-columns:repeat(2,minmax(0,1fr));
    margin-top:12px;
  }
  @media (max-width:820px){
    .choices{grid-template-columns:1fr}
  }

  /* ðŸ”¥ Tiles: FORCE readable text */
  .tile{
    min-height:90px;
    padding:14px;
    border-radius:12px;
    border:1px solid var(--tile-border);
    background:var(--tile);
    cursor:pointer;
    display:flex;
    align-items:center;
    text-align:left;
    transition:background 0.15s ease,border-color 0.15s ease,transform 0.08s ease;

    color:var(--ink) !important;
    -webkit-text-fill-color:var(--ink) !important;
  }

  .tile:hover{transform:translateY(-1px)}

  .tile .inner{
    font-size:clamp(15px,2vw,17px);
    line-height:1.35;
    color:var(--ink) !important;
    -webkit-text-fill-color:var(--ink) !important;
  }

  .tile.correct{
    background:#dcfce7;
    border-color:var(--ok);
    color:#064e3b !important;
    -webkit-text-fill-color:#064e3b !important;
  }

  .tile.wrong{
    background:#fee2e2;
    border-color:var(--bad);
    color:#7f1d1d !important;
    -webkit-text-fill-color:#7f1d1d !important;
  }

  .muted{color:var(--muted)}
  .sep{height:1px; background:rgba(15,23,42,0.08); margin:12px 0}
</style>



</head>
<body>
  <div class="wrap">
    <h1>Lightning Round â€” Unit 4 (Civil Liberties, Civil Rights, Judiciary)</h1>
    <p class="muted">
      Auto-advance on answer. Stopwatch runs during the round. End screen shows only missed items with the correct answer.
    </p>

    <!-- START -->
    <section id="start" class="card grid">
      <div class="grid grid-2">
        <div>
          <label for="section">Chapter</label>
          <select id="section">
            <option value="ch4">Ch. 4 â€” Civil Liberties (all 50)</option>
            <option value="ch5">Ch. 5 â€” Civil Rights (all 50)</option>
            <option value="ch14">Ch. 14 â€” Judiciary (all 50)</option>
            <option value="unit4" selected>Unit 4 â€” Mixed (random 50)</option>
          </select>
        </div>
        <div>
          <label for="order">Order</label>
          <select id="order">
            <option value="shuf" selected>Shuffle</option>
            <option value="seq">In order</option>
          </select>
        </div>
      </div>
      <div class="hud">
        <button id="begin">Start Round</button>
        <span class="pill" id="hint">Answers are shuffled per question.</span>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz" class="card hidden">
      <div class="hud">
        <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap">
          <span class="pill" id="setTag">Set</span>
          <span class="pill" id="progress">Q 1 / N</span>
        </div>
        <div style="display:flex; gap:8px; align-items:center">
          <span class="pill" id="timer">00:00</span>
          <span class="pill" id="best">Best: â€”</span>
        </div>
      </div>
      <div class="sep"></div>
      <div id="prompt" class="qtext"></div>
      <div id="choices" class="choices"></div>
    </section>

    <!-- RESULT -->
    <section id="result" class="card hidden">
      <h2 style="margin:0 0 6px">Round Complete</h2>
      <div class="hud" style="margin-bottom:6px">
        <span class="pill" id="scoreline">Score</span>
        <span class="pill" id="timeline">Time</span>
        <span class="pill" id="bestline">Best</span>
      </div>
      <div class="sep"></div>
      <div id="review"></div>
      <div class="hud">
        <button id="retry">New Round</button>
        <button id="retryMissed">Retry Missed Only</button>
        <button id="restart">Back to Start</button>
      </div>
    </section>
  </div>

<script>
// ---------- Helpers ----------
function shuffle(a){
  const r = [...a];
  for(let i=r.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [r[i],r[j]] = [r[j],r[i]];
  }
  return r;
}
function fmtTime(s){
  const m = Math.floor(s/60).toString().padStart(2,'0');
  const ss = (s%60).toString().padStart(2,'0');
  return `${m}:${ss}`;
}
function setBest(key, seconds){
  const prev = Number(localStorage.getItem(key) || Infinity);
  if(seconds < prev){
    localStorage.setItem(key, String(seconds));
  }
}
function getBest(key){
  const v = localStorage.getItem(key);
  return v ? fmtTime(Number(v)) : 'â€”';
}

// ---------- Question Bank (150 total) ----------
// Each item: {chapter:4|5|14, set:'ch4'|'ch5'|'ch14', q:'stem', choices:[...4+], answer:index}
const BANK = [/* ... your existing BANK array unchanged ... */];
/*  I left BANK out here for brevity in this snippet, but you can paste
    the entire BANK and script from your original file below this comment.
    Everything in JS is unchanged from your version. */
</script>
</body>
</html>
