<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Unit 4 â€” Lightning Round (Civil Liberties, Civil Rights, Judiciary)</title>
<style>
  :root{
    --bg:#e5e7eb;           /* page background */
    --panel:#f9fafb;        /* card background */
    --ink:#111827;          /* main text */
    --muted:#6b7280;        /* muted text */
    --accent:#2563eb;       /* primary accent (blue) */
    --ok:#16a34a;           /* correct */
    --bad:#dc2626;          /* wrong */
    --tile:#ffffff;         /* answer tile */
    --tile-border:rgba(15,23,42,0.12);
  }

  *{box-sizing:border-box}

  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
    color:var(--ink);
    background:radial-gradient(900px 600px at 15% -10%, #dbeafe 0%, var(--bg) 55%);
  }

  .wrap{max-width:980px; margin:0 auto; padding:24px}
  h1{margin:0 0 6px; font-size:clamp(22px,3vw,32px)}
  p,label{color:var(--muted)}
  a{color:var(--accent); text-decoration:none}
  a:hover{text-decoration:underline}

  .card{
    background:var(--panel);
    border:1px solid rgba(15,23,42,0.08);
    border-radius:16px;
    padding:18px;
    box-shadow:0 6px 18px rgba(15,23,42,0.08);
  }

  .grid{display:grid; gap:12px}
  .grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
  @media (max-width:720px){
    .grid-2{grid-template-columns:1fr}
  }

  select,button{
    appearance:none;
    border:1px solid rgba(15,23,42,0.14);
    background:#eff6ff;
    color:var(--ink);
    padding:10px 12px;
    border-radius:10px;
    font-size:15px;
  }

  button{
    cursor:pointer;
    background:linear-gradient(135deg,#2563eb,#1d4ed8);
    border:1px solid rgba(37,99,235,0.7);
    color:#f9fafb;
    font-weight:500;
  }
  button:hover{filter:brightness(1.05)}

  .hidden{display:none}

  .pill{
    display:inline-block;
    padding:6px 10px;
    border-radius:999px;
    border:1px solid rgba(15,23,42,0.12);
    background:#e5e7eb;
    color:#1f2937;
    font-size:12px;
  }

  .hud{display:flex; gap:8px; align-items:center; justify-content:space-between; flex-wrap:wrap}

  .qtext{
    font-size:clamp(18px,2.2vw,22px);
    font-weight:600;
    line-height:1.35;
  }

  .choices{
    display:grid;
    gap:12px;
    grid-template-columns:repeat(2,minmax(0,1fr));
    margin-top:12px;
  }
  @media (max-width:820px){
    .choices{grid-template-columns:1fr}
  }

  /* ðŸ”¥ Tiles: force readable text */
  .tile{
    min-height:90px;
    padding:14px;
    border-radius:12px;
    border:1px solid var(--tile-border);
    background:var(--tile);
    cursor:pointer;
    display:flex;
    align-items:center;
    text-align:left;
    transition:background 0.15s ease,border-color 0.15s ease,transform 0.08s ease;
    color:var(--ink) !important;
  }

  .tile:hover{transform:translateY(-1px)}

  .tile .inner{
    font-size:clamp(15px,2vw,17px);
    line-height:1.35;
    color:var(--ink) !important;
  }

  .tile.correct{
    background:#dcfce7;
    border-color:var(--ok);
    color:#064e3b !important;
  }

  .tile.wrong{
    background:#fee2e2;
    border-color:var(--bad);
    color:#7f1d1d !important;
  }

  .muted{color:var(--muted)}
  .sep{height:1px; background:rgba(15,23,42,0.08); margin:12px 0}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Lightning Round â€” Unit 4 (Civil Liberties, Civil Rights, Judiciary)</h1>
    <p class="muted">
      Auto-advance on answer. Stopwatch runs during the round. End screen shows only missed items with the correct answer.
    </p>

    <!-- START -->
    <section id="start" class="card grid">
      <div class="grid grid-2">
        <div>
          <label for="section">Chapter</label>
          <select id="section">
            <option value="ch4">Ch. 4 â€” Civil Liberties (all 50)</option>
            <option value="ch5">Ch. 5 â€” Civil Rights (all 50)</option>
            <option value="ch14">Ch. 14 â€” Judiciary (all 50)</option>
            <option value="unit4" selected>Unit 4 â€” Mixed (random 50)</option>
          </select>
        </div>
        <div>
          <label for="order">Order</label>
          <select id="order">
            <option value="shuf" selected>Shuffle</option>
            <option value="seq">In order</option>
          </select>
        </div>
      </div>
      <div class="hud">
        <button id="begin">Start Round</button>
        <span class="pill" id="hint">Answers are shuffled per question.</span>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz" class="card hidden">
      <div class="hud">
        <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap">
          <span class="pill" id="setTag">Set</span>
          <span class="pill" id="progress">Q 1 / N</span>
        </div>
        <div style="display:flex; gap:8px; align-items:center">
          <span class="pill" id="timer">00:00</span>
          <span class="pill" id="best">Best: â€”</span>
        </div>
      </div>
      <div class="sep"></div>
      <div id="prompt" class="qtext"></div>
      <div id="choices" class="choices"></div>
    </section>

    <!-- RESULT -->
    <section id="result" class="card hidden">
      <h2 style="margin:0 0 6px">Round Complete</h2>
      <div class="hud" style="margin-bottom:6px">
        <span class="pill" id="scoreline">Score</span>
        <span class="pill" id="timeline">Time</span>
        <span class="pill" id="bestline">Best</span>
      </div>
      <div class="sep"></div>
      <div id="review"></div>
      <div class="hud">
        <button id="retry">New Round</button>
        <button id="retryMissed">Retry Missed Only</button>
        <button id="restart">Back to Start</button>
      </div>
    </section>
  </div>

<script>
// ---------- Helpers ----------
function shuffle(a){
  const r = [...a];
  for(let i=r.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [r[i],r[j]] = [r[j],r[i]];
  }
  return r;
}
function fmtTime(s){
  const m = Math.floor(s/60).toString().padStart(2,'0');
  const ss = (s%60).toString().padStart(2,'0');
  return `${m}:${ss}`;
}
function setBest(key, seconds){
  const prev = Number(localStorage.getItem(key) || Infinity);
  if(seconds < prev){
    localStorage.setItem(key, String(seconds));
  }
}
function getBest(key){
  const v = localStorage.getItem(key);
  return v ? fmtTime(Number(v)) : 'â€”';
}

// ---------- Question Bank (150 total) ----------
// Each item: {chapter:4|5|14, set:'ch4'|'ch5'|'ch14', q:'stem', choices:[...4+], answer:index}
const BANK = [
  // ===== Ch. 4 â€” Civil Liberties (50) =====
  {chapter:4,set:'ch4',q:'What is the primary purpose of the Bill of Rights?',choices:['To protect individual liberties from government intrusion','To define the powers of the presidency','To organize political parties','To regulate state taxation'],answer:0},
  {chapter:4,set:'ch4',q:'Originally, the Bill of Rights applied to which level of government?',choices:['Federal government only','State and federal governments equally','State governments only','Local governments only'],answer:0},
  {chapter:4,set:'ch4',q:'Barron v. Baltimore (1833) held that the Bill of Rights:',choices:['Did not apply to the states','Automatically applied to the states','Was unconstitutional','Applied only to criminal cases'],answer:0},
  {chapter:4,set:'ch4',q:'The process by which certain rights in the Bill of Rights are applied to the states through the Fourteenth Amendment is called:',choices:['Selective incorporation','Judicial restraint','Dual federalism','Executive privilege'],answer:0},
  {chapter:4,set:'ch4',q:'Gitlow v. New York (1925) is important because it:',choices:['Began the selective incorporation of free speech','Ended the death penalty','Outlawed racial segregation in schools','Created judicial review'],answer:0},
  {chapter:4,set:'ch4',q:'What is meant by â€œcivil libertiesâ€?',choices:['Freedoms that protect individuals from government action','Benefits distributed by public policy','Rights to vote and hold office','Economic protections for businesses'],answer:0},
  {chapter:4,set:'ch4',q:'Substantive due process focuses on:',choices:['The fundamental rights the government cannot infringe','The steps the government must follow before depriving liberty','The size of juries','The structure of state courts'],answer:0},
  {chapter:4,set:'ch4',q:'Procedural due process focuses on:',choices:['Fair and proper legal procedures','Economic policy outcomes','Separation of powers','Military law only'],answer:0},
  {chapter:4,set:'ch4',q:'Which amendment is most associated with the Due Process and Equal Protection clauses used for incorporation?',choices:['Fourteenth Amendment','First Amendment','Tenth Amendment','Twenty-Second Amendment'],answer:0},
  {chapter:4,set:'ch4',q:'The case of Near v. Minnesota (1931) dealt with:',choices:['Prior restraint and freedom of the press','School prayer','Gun ownership','Campaign finance'],answer:0},

  {chapter:4,set:'ch4',q:'The Establishment Clause states that government may not:',choices:['Create an official religion or favor one religion','Protect religious freedom','Provide chaplains in the military','Tax churches'],answer:0},
  {chapter:4,set:'ch4',q:'What is the â€œNo Establishment Clauseâ€?',choices:['The part of the First Amendment that forbids government from establishing a religion','The rule that states cannot tax churches','The rule that religious groups cannot lobby government','The clause that bans religious symbols in private homes'],answer:0},
  {chapter:4,set:'ch4',q:'The Free Exercise Clause protects:',choices:['The right to practice oneâ€™s religion within reasonable limits','Only mainstream religious practices','Only non-Christian religions','State-sponsored prayer'],answer:0},
  {chapter:4,set:'ch4',q:'In Abington School District v. Schempp, the Court struck down:',choices:['School-sponsored Bible reading and prayer','Federal aid to religious colleges','Religious symbols on private property','Tax exemptions for churches'],answer:0},
  {chapter:4,set:'ch4',q:'Which case banned school-sponsored prayer written by the state?',choices:['Engel v. Vitale','Mapp v. Ohio','Gideon v. Wainwright','Roe v. Wade'],answer:0},
  {chapter:4,set:'ch4',q:'The Lemon Test evaluates laws under which clause?',choices:['The Establishment Clause','The Free Exercise Clause','The Free Speech Clause','The Takings Clause'],answer:0},
  {chapter:4,set:'ch4',q:'Which of the following is NOT a part of the Lemon Test?',choices:['Law must directly support a single church','Law must have a secular purpose','Lawâ€™s primary effect must neither advance nor inhibit religion','Law must avoid excessive government entanglement with religion'],answer:0},
  {chapter:4,set:'ch4',q:'A seasonal holiday display on public property is most likely constitutional if:',choices:['It includes a variety of religious and secular symbols','It features only one religious tradition','It excludes all secular elements','It is funded only by religious groups'],answer:0},
  {chapter:4,set:'ch4',q:'Which case allowed privately sponsored religious clubs to meet in public schools after hours if other clubs may do so?',choices:['Good News Club v. Milford Cent]()
