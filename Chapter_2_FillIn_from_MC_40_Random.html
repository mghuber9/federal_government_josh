<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chapter 2 — Study Guide Fill-in Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 900px; margin: auto; }
    h1 { margin-bottom: 0; }
    .sub { color:#555; margin: 4px 0 16px; }
    .question { margin: 16px 0; }
    .question label { display:block; font-weight: bold; margin-bottom:6px; }
    .question textarea { width:100%; padding:8px; font-size: 15px; }
    .controls { display:flex; gap:10px; flex-wrap:wrap; margin-top: 16px; }
    button { padding:10px 16px; }
  </style>
</head>
<body>
  <h1>Chapter 2 — Study Guide Fill-in Quiz</h1>
  <div class="sub">30 random items per attempt • Mirrors trimmed study-guide MC set</div>
  <div id="quiz"></div>
  <div class="controls">
    <button id="submitBtn">Submit</button>
    <button id="retakeBtn">Retake</button>
    <button id="printBtn" style="display:none">Print Results</button>
  </div>

<script>
(function(){
  function esc(s){ return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

  // Trimmed, study-guide-aligned BANK (42 items)
  const BANK = [
    {q:"What is a constitution?", a:"The fundamental law that establishes government structure, powers, and limits"},
    {q:"What traditions of government existed in the colonies?", a:"Limited and representative government"},
    {q:"What grievances against Britain led to revolution?", a:"Taxation without representation and denial of self-rule"},
    {q:"What was the significance of the Declaration of Independence?", a:"It announced separation and justified it with natural rights and consent of the governed"},
    {q:"Whose ideas most influenced the Declaration of Independence?", a:"John Locke’s natural rights and consent theory"},
    {q:"What were the Articles of Confederation?", a:"America’s first charter with a weak central government"},
    {q:"What was the main weakness of the Articles of Confederation?", a:"Congress lacked power to tax or regulate commerce"},
    {q:"What was Shays’ Rebellion and why significant?", a:"A farmers’ revolt showing the weakness of the Articles"},
    {q:"What was the purpose of the Constitutional Convention?", a:"To revise the Articles but instead produced the Constitution"},
    {q:"What did the Virginia Plan call for?", a:"Representation based on population in a strong national government"},
    {q:"What did the New Jersey Plan propose?", a:"Equal representation for states in a unicameral legislature"},
    {q:"What was the Great Compromise?", a:"Bicameral Congress with House by population, Senate equal by states"},
    {q:"What was the Three-Fifths Compromise?", a:"Counted enslaved persons as three-fifths for representation and taxation"},
    {q:"What was the Federalists’ argument?", a:"A stronger national government was needed"},
    {q:"What was the Anti-Federalists’ argument?", a:"The Constitution gave too much power and needed a bill of rights"},
    {q:"What was the strategy for ratification?", a:"Use state conventions and promise to add a Bill of Rights"},
    {q:"Why was the Bill of Rights added?", a:"To protect individual liberties and gain Anti-Federalist support"},
    {q:"What are inalienable rights?", a:"Life, liberty, and other rights that cannot be justly taken away"},
    {q:"What were the framers’ primary goals in writing the Constitution?", a:"Strong but limited government to protect liberty and self-rule"},
    {q:"What are grants of power?", a:"Specific authorities given to the national government"},
    {q:"What are denials of power?", a:"Explicit constitutional prohibitions"},
    {q:"What is separation of powers?", a:"Division of government into legislative, executive, and judicial branches"},
    {q:"What are checks and balances?", a:"Each branch can limit the others to prevent concentration of power"},
    {q:"What is judicial review?", a:"Courts’ power to declare laws or actions unconstitutional"},
    {q:"Which case established judicial review?", a:"Marbury v. Madison (1803)"},
    {q:"How did framers define a republic?", a:"Government by elected representatives, not direct democracy"},
    {q:"What is tyranny of the majority?", a:"When majority tramples minority rights"},
    {q:"How were House members originally selected?", a:"By direct vote of the people"},
    {q:"How were Senators originally selected?", a:"By state legislatures"},
    {q:"How was the president originally selected?", a:"Indirectly through the Electoral College"},
    {q:"How were federal judges originally selected?", a:"Nominated by president, confirmed by Senate"},
    {q:"Which amendment allowed direct election of Senators?", a:"Seventeenth Amendment"},
    {q:"What is a primary election?", a:"Voters choose a party’s nominees"},
    {q:"What reform is associated with Jeffersonian democracy?", a:"Expanded participation and limited national power"},
    {q:"What reform is associated with Jacksonian democracy?", a:"Broadened white male suffrage and mass politics"},
    {q:"What reforms are linked to the Progressives?", a:"Clean government and more direct democracy"},
    {q:"What is an initiative?", a:"Process letting citizens place laws on the ballot"},
    {q:"What is a referendum?", a:"Voters approve or reject laws passed by the legislature"},
    {q:"What is a recall?", a:"Voters remove an elected official before term ends"},
    {q:"What does 'constitutional democratic republic' mean?", a:"Limited by law, with elections and representative institutions"},
    {q:"What is bicameralism?", a:"A legislature with two chambers"},
    {q:"Which body formally elects the President of the United States?", a:"The Electoral College"},
    {q:"What does the Necessary and Proper Clause do?", a:"Gives Congress flexibility to carry out enumerated powers"}
  ];

  const N = 30; // number of random items per attempt
  let current = [];

  function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } }
  function pick(){ const c = BANK.slice(); shuffle(c); return c.slice(0, Math.min(N, c.length)); }

  function render(){
    current = pick();
    const container = document.getElementById('quiz');
    container.innerHTML = "";
    current.forEach((it, idx)=>{
      const id='q'+idx;
      const div = document.createElement('div');
      div.className='question';
      div.innerHTML = `<label for="${id}"><strong>${idx+1}.</strong> ${esc(it.q)}</label>`+
                      `<textarea id="${id}" rows="2" placeholder="Type your answer..."></textarea>`;
      container.appendChild(div);
    });
    document.getElementById('printBtn').style.display='none';
  }

  function grade(){
    const container = document.getElementById('quiz');
    const results = document.createElement('div');
    results.innerHTML = '<h3>Results</h3>';
    current.forEach((it, idx)=>{
      const val = (document.getElementById('q'+idx).value||'').trim();
      const block = document.createElement('div');
      block.innerHTML = `<div><strong>${idx+1}.</strong> ${esc(it.q)}</div>`+
                        `<div>Your answer: ${val?esc(val):'<em>(blank)</em>'}</div>`+
                        `<div><strong>Correct:</strong> ${esc(it.a)}</div>`;
      block.style.margin = '10px 0';
      results.appendChild(block);
    });
    container.innerHTML='';
    container.appendChild(results);
    document.getElementById('printBtn').style.display='inline-block';
    document.getElementById('printBtn').onclick = ()=>window.print();
  }

  document.getElementById('submitBtn').addEventListener('click', grade);
  document.getElementById('retakeBtn').addEventListener('click', render);
  render();
})();
</script>
</body>
</html>
